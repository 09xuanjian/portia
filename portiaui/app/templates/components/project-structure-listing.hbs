{{#tree-list hide=currentSchema}}
    {{#tree-list-item hasChildren=project.spiders.length as |options|}}
        {{#if (eq options.section "item")}}
            {{#list-item-text class="title"}}
                {{if currentSpider "Spider" "Spiders"}}
            {{/list-item-text}}
            {{#tooltip-container tooltipFor="add-spider-button" text=addSpiderTooltipText tooltipContainer='body'}}
                {{list-item-icon id="add-spider-button" icon='add' disabled=(not canAddSpider) action=(action 'addSpider')}}
            {{/tooltip-container}}
        {{else if (eq options.section "subtrees")}}
            {{#each project.spiders as |spider|}}
                {{#tree-list-item hide=(and currentSpider (not-eq spider currentSpider)) as |options|}}
                    {{#link-to 'projects.project.spider' spider}}
                        {{list-item-icon icon='spider'}}
                        {{list-item-editable value=(mut spider.name) editing=(mut spider.new) onChange=(action 'saveSpider' spider)}}
                        {{#animation-container class="icon" setWidth=false setHeight=false}}
                            {{list-item-icon icon='remove' action=(action 'removeSpider' spider) bubbles=false}}
                        {{/animation-container}}
                        {{#animation-container class="icon" hide=(not-eq spider currentSpider) setWidth=false setHeight=false}}
                            {{#tooltip-container tooltipFor=(concat "spider-options-button" (guid spider)) text="Advanced spider options" tooltipContainer='body'}}
                                {{#link-to 'projects.project.spider' id=(concat "spider-options-button" (guid spider)) bubbles=false}}
                                    {{#link-to 'projects.project.spider.options' bubbles=false class="ignore-active"}}
                                        {{list-item-icon icon='options'}}
                                    {{/link-to}}
                                {{/link-to}}
                            {{/tooltip-container}}
                        {{/animation-container}}
                        {{#animation-container class="icon" hide=(not-eq spider currentSpider) setWidth=false setHeight=false}}
                            {{#tooltip-container tooltipFor=(concat "spider-close-button" (guid spider)) text="Close spider" tooltipContainer='body'}}
                                {{#link-to 'projects.project' id=(concat "spider-close-button" (guid spider)) bubbles=false}}
                                    {{list-item-icon icon='close'}}
                                {{/link-to}}
                            {{/tooltip-container}}
                        {{/animation-container}}
                    {{/link-to}}
                {{/tree-list-item}}
            {{/each}}
        {{/if}}
    {{/tree-list-item}}
{{/tree-list}}

{{#tree-list hide=currentSpider}}
    {{#tree-list-item hasChildren=project.schemas.length as |options|}}
        {{#if (eq options.section "item")}}
            {{#list-item-text class="title"}}
                {{if currentSchema "Data Format" "Data Formats"}}
            {{/list-item-text}}
            {{#tooltip-container tooltipFor="add-schema-button" text="Create a new Schema" tooltipContainer='body'}}
                {{list-item-icon id="add-schema-button" icon='add' action=(action 'addSchema')}}
            {{/tooltip-container}}
        {{else if (eq options.section "subtrees")}}
            {{#each project.schemas as |schema|}}
                {{#tree-list-item hide=(and currentSchema (not-eq schema currentSchema)) as |options|}}
                    {{#link-to 'projects.project.schema' schema}}
                        {{list-item-icon icon='schema'}}
                        {{list-item-editable value=(mut schema.name) editing=(mut schema.new) onChange=(action 'saveSchema' schema)}}
                        {{#animation-container class="icon" setWidth=false setHeight=false}}
                            {{list-item-icon icon='remove' disabled=(not (not schema.items.length)) action=(action 'removeSchema' schema) bubbles=false}}
                        {{/animation-container}}
                        {{#animation-container class="icon" hide=(not-eq schema currentSchema) setWidth=false setHeight=false}}
                            {{#tooltip-container tooltipFor=(concat "schema-close-button-" (guid schema)) text="Close schema" tooltipContainer='body'}}
                                {{#link-to 'projects.project' id=(concat "schema-close-button-" (guid schema)) bubbles=false}}
                                    {{list-item-icon icon='close'}}
                                {{/link-to}}
                            {{/tooltip-container}}
                        {{/animation-container}}
                    {{/link-to}}
                {{/tree-list-item}}
            {{/each}}
        {{/if}}
    {{/tree-list-item}}
{{/tree-list}}
