{{#tree-list}}
    {{#tree-list-item hasChildren=project.spiders.length childActive=(not (not activeModels.spider)) as |options|}}
        {{#if (eq options.section "item")}}
            {{#list-item-text}}
                SPIDERS
            {{/list-item-text}}
            {{list-item-icon icon='add' disabled=(not canAddSpider) action=(action 'addSpider' project)}}
        {{else if (eq options.section "subtrees")}}
            {{#each project.spiders as |spider|}}
                {{#tree-list-item collapsed=(or (not activeModels.spider) (not-eq activeModels.spider spider)) hasChildren=true active=(eq activeModels.spider spider) childActive=(and (eq activeModels.spider spider) (not (not activeModels.sample))) as |options|}}
                    {{#if (eq options.section "item")}}
                        {{#link-to 'projects.project.spider' project spider current-when='projects.project.spider.index'}}
                            {{list-item-icon icon='spider'}}
                            {{list-item-editable value=(mut spider.name) editing=(mut spider.new) change=(action 'saveSpider' spider)}}
                            {{list-item-icon icon='options'}}
                            {{list-item-icon icon='remove' action=(action 'removeSpider' spider)}}
                        {{/link-to}}
                    {{else if (eq options.section "subtrees")}}
                        {{#if options.everOpened}}
                            {{project-structure-spider-urls spider=spider}}
                            {{project-structure-spider-samples project=project spider=spider}}
                        {{/if}}
                    {{/if}}
                {{/tree-list-item}}
            {{/each}}
        {{/if}}
    {{/tree-list-item}}
    {{#tree-list-item hasChildren=project.schemas.length childActive=(not (not activeModels.schema)) as |options|}}
        {{#if (eq options.section "item")}}
            {{#list-item-text}}
                SCHEMAS
            {{/list-item-text}}
            {{list-item-icon icon='add' action=(action 'addSchema' project)}}
        {{else if (eq options.section "subtrees")}}
            {{#each project.schemas as |schema|}}
                {{#tree-list-item active=(eq activeModels.schema schema) as |options|}}
                    {{#if (eq options.section "item")}}
                        {{#link-to 'projects.project.schema' project schema}}
                            {{list-item-icon icon='schema'}}
                            {{list-item-editable value=(mut schema.name) editing=(mut schema.new) change=(action 'saveSchema' schema)}}
                            {{list-item-icon icon='options'}}
                            {{list-item-icon icon='remove' disabled=(not (not schema.items.length)) action=(action 'removeSchema' schema)}}
                        {{/link-to}}
                    {{/if}}
                {{/tree-list-item}}
            {{/each}}
        {{/if}}
    {{/tree-list-item}}
{{/tree-list}}
