{{#tree-list hide=currentSample}}
    {{#tree-list-item hasChildren=spider.startUrls.length as |options|}}
        {{#if (eq options.section "item")}}
            {{#list-item-text class="title"}}
                Start pages
            {{/list-item-text}}
            {{#tooltip-container tooltipFor="add-start-url-button" text="Start crawling from the current page" tooltipContainer='body'}}
                {{list-item-icon id="add-start-url-button" icon='add' action=(action 'addStartUrl')}}
            {{/tooltip-container}}
        {{else if (eq options.section "subtrees")}}
            {{#each spider.startUrls key="@index" as |url|}}
                {{#if (or (not newUrl) (not-eq urlValue url))}}
                    {{project-structure-spider-url spider=spider url=url}}
                {{/if}}
            {{/each}}
            {{#if newUrl}}
                {{project-structure-spider-url spider=spider url=urlValue urlAdded=(mut newUrl)}}
            {{/if}}
        {{/if}}
    {{/tree-list-item}}
{{/tree-list}}

{{#tree-list hide=currentSample}}
    {{#tree-list-item hasChildren=true as |options|}}
        {{#if (eq options.section "item")}}
            {{#list-item-text class="title"}}
                Link crawling
            {{/list-item-text}}
        {{else if (eq options.section "subtrees")}}
            {{#tree-list-item as |options|}}
                {{list-item-icon icon='link'}}
                {{list-item-link-crawling spider=spider}}
                {{#if (not-eq spider.linksToFollow 'none')}}
                    {{#link-to 'projects.project.spider' bubbles=false}}
                        {{#link-to 'projects.project.spider.link-options' bubbles=false class="ignore-active"}}
                            {{list-item-icon icon='options'}}
                        {{/link-to}}
                    {{/link-to}}
                {{/if}}
            {{/tree-list-item}}
        {{/if}}
    {{/tree-list-item}}
{{/tree-list}}

{{#tree-list}}
    {{#tree-list-item hasChildren=spider.samples.length as |options|}}
        {{#if (eq options.section "item")}}
            {{#list-item-text class="title"}}
                {{if currentSample "Sample" "Samples"}}
            {{/list-item-text}}
            {{#tooltip-container tooltipFor="add-spider-button" text=addSpiderTooltipText tooltipContainer='body'}}
                {{list-item-icon text="Create a new sample from the current page" icon='add' disabled=(not canAddSample) action=(action 'addSample')}}
            {{/tooltip-container}}
        {{else if (eq options.section "subtrees")}}
            {{#each spider.samples as |sample|}}
                {{#tree-list-item hide=(and currentSample (not-eq sample currentSample)) as |options|}}
                    {{#link-to 'projects.project.spider.sample' sample}}
                        {{list-item-icon icon='sample'}}
                        {{list-item-editable value=(mut sample.name) editing=(mut sample.new) onChange=(action 'saveSample' sample)}}
                        {{#animation-container class="icon" setWidth=false setHeight=false}}
                            {{list-item-icon icon='remove' action=(action 'removeSample' sample) bubbles=false}}
                        {{/animation-container}}
                        {{#animation-container class="icon" hide=(not-eq sample currentSample) setWidth=false setHeight=false}}
                            {{#tooltip-container tooltipFor=(concat "sample-close-button" (guid sample)) text="Close sample" tooltipContainer='body'}}
                                {{#link-to 'projects.project.spider' id=(concat "sample-close-button" (guid sample)) bubbles=false}}
                                    {{list-item-icon icon='close'}}
                                {{/link-to}}
                            {{/tooltip-container}}
                        {{/animation-container}}
                    {{/link-to}}
                {{/tree-list-item}}
            {{/each}}
        {{/if}}
    {{/tree-list-item}}
{{/tree-list}}
